function mousePressed(){return 0}function vec2(t,i){var e={};return e.x=t,e.y=i,e}function AABB(t,i,e,o){return t.x<i.x+o.x&&i.x<t.x+e.x&&t.y<i.y+o.y&&i.y<t.y+e.y}function Box_vs_point(t,i){return AABB(t.pos,i,t.size,vec2(1,1))}function Box(t,i,e,o){var n={pos:{},size:{}};return n.pos.x=t,n.pos.y=i,n.size.x=e,n.size.y=o,n.down=0,n.draw=function(){this.down?fill("black"):fill("grey"),rect(this.pos.x,this.pos.y,this.size.x,this.size.y)},n}document.addEventListener("gesturestart",function(t){t.preventDefault()});let A,B,SICK,joystick_center_x,joystick_center_y,joystick_radius,x_diff=0,y_diff=0,joy_drawn=0;function draw_buttons(){A.draw(),B.draw()}function joy_touch(t,i){1!=joy_drawn&&(x_diff=int(t-joystick_center_x),y_diff=int(-1*(joystick_center_y-i)),x_diff<-100?x_diff=-100:100<x_diff&&(x_diff=100),y_diff<-100?y_diff=-100:100<y_diff&&(y_diff=100),push(),translate(joystick_center_x,joystick_center_y),pop(),push(),fill("grey"),rectMode(CENTER),ellipse(t,i,joystick_radius,joystick_radius),line(joystick_center_x,joystick_center_y,t,i),pop(),joy_drawn=1)}function draw_joy_field(){push(),translate(joystick_center_x,joystick_center_y),rotate(QUARTER_PI),line(-joystick_radius,0,joystick_radius,0),rotate(HALF_PI),line(-joystick_radius,0,joystick_radius,0),noFill(),circle(0,0,2*joystick_radius),pop(),fill(50),STICK.x=x_diff,STICK.y=y_diff,x_diff=0,y_diff=0,joy_drawn=0}function check_touches(){A.down=0;var t=B.down=0;fill("red");for(var i=0;i<touches.length;i++)touches[i].x<width/3*2?(joy_touch(touches[i].x,touches[i].y),t=1):(Box_vs_point(A,touches[i])&&(A.down=1),Box_vs_point(B,touches[i])&&(B.down=1)),ellipse(touches[i].x,touches[i].y,10,10);t||(fill("grey"),ellipse(joystick_center_x,joystick_center_y,joystick_radius,joystick_radius))}function send_HTTP_request(t,i,e){return fetch(i,{method:t,body:"Your mom, thicc!!",headers:{"Content-Type":e}})}function setup(){background(0,0,0,0),frameRate(30),createCanvas(windowWidth,windowHeight),B=width>height?(joystick_center_y=height/2,joystick_radius=height/6*2,joystick_center_x=height/5*2,A=new Box(windowWidth-width/4,windowHeight-height/9*8,windowWidth/6,windowWidth/6),new Box(windowWidth-width/3,windowHeight-height/2,windowWidth/6,windowWidth/6)):(joystick_center_y=width/2,joystick_radius=width/6*2,joystick_center_x=width/5*2,A=new Box(windowHeight-height/4,windowWidth-width/9*8,windowHeight/6,windowHeight/6),new Box(windowHeight-height/3,windowWidth-width/2,windowHeight/6,windowHeight/6)),STICK=vec2(0,0)}function draw(){90!==window.orientation&&-90!==window.orientation||send_HTTP_request("POST","/","".concat(A.down.toString()," ",B.down.toString()," ",STICK.x.toString()," ",STICK.y.toString())),clear(),draw_buttons(),draw_joy_field(),check_touches()}